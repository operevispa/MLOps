# MLOps. Практическое задание №2
## Построение конвейера машинного обучения на базе Jenkins
Реализация автоматизации процесса обучения модели классификации на классическом датасете из библиотеки sklearn с использованием пайплайна Jenkins, написанном на Groovy.


## Структура папок и файлов
**lab2** - папка с файлами к практической работе. Внутри:
- **src** - папка с python-скриптами  
  - [data_creation.py](src/data_creation.py) - скрипт загружает датасет, проводит его предобработку и сохраняет отдельно тренировочный и тестовый датасеты
  - [train_model.py](src/train_model.py) - скрипт проводит обучение модели и с помощью кросс-валидации выбирает лучшую модель, после чего сохраняет ее в файле
  - [test_model.py](src/test_model.py) - скрипт проверки качества ранее обученной и сохраненной модели на тестовом наборе данных

- [Jenkinsfile](Jenkinsfile) - пайплайн Jenkins на языке Groovy
- [requirements.txt](requirements.txt) - библиотеки, необходимые для проекта


## Стадии Jenkins pipeline
Все стадии конвейера машинного обучения описаны в файле `Jenkinsfile`, который хранится в gitHub репозитории. Выделим следующие этапы:
1. настройка виртуального окружения (создание, запуск, установка необходимых пакетов из файла `requirements.txt`)
2. загрузка датасета, его обработка, нормализация, разделение на тренировочную и тестовую выборки - скрипт `data_creation.py`
3. тренировка модели классификации на тренировочных данных, выбор оптимальной модели, сохранение ее в файле - скрипт `train_model.py`
4. загрузка из файла и тестирование модели на тестовых данных - скрипт `test_model.py`


## Настройка и запуск pipeline в Jenkins
Управление проектами осуществляется через веб-интерфейс
```
http://localhost:8080/
```

Для запуска конвейера, необходимо создать pipeline:
- Создать Item
- указать названиеи и выбрать в списке Pipeline
- указать описание, пометить галкой Удалять устаревшие сборки
- выбрать в разделе Pipeline Definition - Pipeline script from SCM
- SCM = git
- credentials (не указываются, если репозиторий public)
- указывается ветка репозитория
- и расположение файла Jenkinsfile. В данном случае Script Path   =   lab2/Jenkinsfile

Если поле Script Path оставить пустым, то Jenkinsfile не будет найден и сборка не пройзойдет. 
